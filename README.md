# Приложение «Магазин "Megano"»

Проект представляет собой подключаемое django-приложение. Берет на себя все что связано с отображением страниц, а обращение 
за данными происходит по API, который необходимо реализовать в ходе выполнения задания дипломного проекта.

## Установка front-end:

## Контракт для API
Названия роутов и ожидаемую структуру ответа от API endpoints можно найти в `diploma-frontend/swagger/swagger.yaml`. 
Для более удобного просмотра swagger-описания рекомендуется использовать возможности gitlab:
![image](gitlab-swagger.png)

## Подключение пакета
1. Собрать пакет: в директории diploma-frontend выполнить команду python setup.py sdist
2. Установить полученный пакет в виртуальное окружение: `pip install diploma-frontend-0.6.tar.gz`
3. В `settings.py` дипломного проекта подключить приложение:
INSTALLED_APPS = [
        ...
        'frontend',
    ]

4. В `urls.py` проекта добавить в urlpatterns: `path`("", `include`("frontend.urls")),

Если запустить сервер разработки: `python manage.py runserver`, то по адресу `127.0.0.1:8000` должна открыться стартовая страница интернет-магазина:
![image](root-page.png)

# Детали подключаемого приложения `frontend` (Для проверяющих преподавателей)
Приложение служит только для отрисовки шаблонов из `templates/frontend`, поэтому в `urls.py` напрямую 
используются `TemplateView` из стандартной поставки Django.

В качестве frontend фреймворка был использован Vue3, который подключается в базовом шаблоне `templates/frontend/base.html`:
```html
<script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
```
JS скрипт `static/frontend/assets/js/app.js` содержит реализацию Vue объекта, а все остальные JS скрипты из 
директории `static/frontend/assets/js` реализуют объекты примеси для соответствующей страницы проекта.


## Подключение back-end:
1. Перейти в директорию проекта в терминале: cd megano
2. Установить виртуальную среду `python -m venv <название>`
3. Установить зависимости: `pip install -r requirements.txt`
4. Создать миграции: `python manage.py makemigrations`
5. Применить миграции: `python manage.py migrate`
6. Запустить сервер: `python manage.py runserver`

### Основные библиотеки:
* [Django == 4.2.1](https://docs.djangoproject.com/) - основной фреймворк
* [Pillow == 9.3.0](https://pypi.org/project/Pillow/) - библиотека для работы с полями изображений/файлов в Django
* [djangorestframework==3.14.0](https://www.django-rest-framework.org) - django-rest-framework

### Структура Сайта
* `+` Главная страница.
* `+` Каталог товаров с блоком «Популярные товары», фильтром, сортировкой.
* `+` Детальная страница товара с отзывами.
* `+` Страница «Об акциях».
* `+` Оформление заказа.
* `+` Корзина.
* `+` Оплата.
* `+` Личный кабинет.
* `+` Профиль.
* `+` История просмотров.
* `+` История заказов.
* `+` Административный раздел.

